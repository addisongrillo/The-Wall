{"ast":null,"code":"var _jsxFileName = \"/Users/Addison/Desktop/TSL-The-Wall/src/components/NewPostForm.js\";\nimport React from 'react';\nimport { Form, Input, Button } from 'antd';\nimport axios from 'axios';\nimport { connect } from 'react-redux';\n\nclass NewPostForm extends React.Component {\n  constructor(...args) {\n    super(...args);\n\n    this.handleSubmit = e => {\n      e.preventDefault();\n      this.props.form.validateFields((err, values) => {\n        let config = {\n          headers: {\n            'Authorization': \"Token \".concat(this.props.token)\n          }\n        };\n        let data = {\n          content: values.content,\n          user: this.props.username\n        };\n        axios.post('https://thewall2019.herokuapp.com/posts/', data, config);\n      });\n      this.props.update();\n      this.props.form.resetFields();\n    };\n  }\n\n  componentDidMount() {\n    this.props.form.validateFields();\n  }\n\n  render() {\n    const getFieldDecorator = this.props.form.getFieldDecorator;\n    return React.createElement(Form, {\n      onSubmit: this.handleSubmit,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 33\n      },\n      __self: this\n    }, React.createElement(Form.Item, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 34\n      },\n      __self: this\n    }, getFieldDecorator('content', {})(React.createElement(Input, {\n      size: \"large\",\n      style: {\n        width: 500\n      },\n      placeholder: \"Post something on the wall!\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 37\n      },\n      __self: this\n    }))), React.createElement(Form.Item, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 42\n      },\n      __self: this\n    }, React.createElement(Button, {\n      type: \"primary\",\n      htmlType: \"submit\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 43\n      },\n      __self: this\n    }, \"Post\")));\n  }\n\n}\n\nconst WrappedNewPostForm = Form.create({\n  name: 'horizontal_login'\n})(NewPostForm);\n\nconst mapStateToProps = state => {\n  return {\n    token: state.token,\n    username: state.username\n  };\n};\n\nexport default connect(mapStateToProps, null)(WrappedNewPostForm);","map":{"version":3,"sources":["/Users/Addison/Desktop/TSL-The-Wall/src/components/NewPostForm.js"],"names":["React","Form","Input","Button","axios","connect","NewPostForm","Component","handleSubmit","e","preventDefault","props","form","validateFields","err","values","config","headers","token","data","content","user","username","post","update","resetFields","componentDidMount","render","getFieldDecorator","width","WrappedNewPostForm","create","name","mapStateToProps","state"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,IAAT,EAAeC,KAAf,EAAsBC,MAAtB,QAAoC,MAApC;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAASC,OAAT,QAAwB,aAAxB;;AAGA,MAAMC,WAAN,SAA0BN,KAAK,CAACO,SAAhC,CAA0C;AAAA;AAAA;;AAAA,SAKxCC,YALwC,GAKzBC,CAAC,IAAI;AAClBA,MAAAA,CAAC,CAACC,cAAF;AACA,WAAKC,KAAL,CAAWC,IAAX,CAAgBC,cAAhB,CAA+B,CAACC,GAAD,EAAMC,MAAN,KAAiB;AAC9C,YAAIC,MAAM,GAAG;AACXC,UAAAA,OAAO,EAAE;AACP,6CAA0B,KAAKN,KAAL,CAAWO,KAArC;AADO;AADE,SAAb;AAKA,YAAIC,IAAI,GAAG;AACLC,UAAAA,OAAO,EAAEL,MAAM,CAACK,OADX;AAELC,UAAAA,IAAI,EAAE,KAAKV,KAAL,CAAWW;AAFZ,SAAX;AAIAlB,QAAAA,KAAK,CAACmB,IAAN,CAAW,0CAAX,EAAuDJ,IAAvD,EAA6DH,MAA7D;AACD,OAXD;AAYA,WAAKL,KAAL,CAAWa,MAAX;AACA,WAAKb,KAAL,CAAWC,IAAX,CAAgBa,WAAhB;AACD,KArBuC;AAAA;;AACxCC,EAAAA,iBAAiB,GAAG;AAClB,SAAKf,KAAL,CAAWC,IAAX,CAAgBC,cAAhB;AACD;;AAoBDc,EAAAA,MAAM,GAAG;AAAA,UACCC,iBADD,GACuB,KAAKjB,KAAL,CAAWC,IADlC,CACCgB,iBADD;AAEP,WACE,oBAAC,IAAD;AAAM,MAAA,QAAQ,EAAE,KAAKpB,YAArB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI,oBAAC,IAAD,CAAM,IAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACCoB,iBAAiB,CAAC,SAAD,EAAY,EAAZ,CAAjB,CAEC,oBAAC,KAAD;AAAO,MAAA,IAAI,EAAC,OAAZ;AAAoB,MAAA,KAAK,EAAE;AAAEC,QAAAA,KAAK,EAAE;AAAT,OAA3B;AACE,MAAA,WAAW,EAAC,6BADd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFD,CADD,CADJ,EASE,oBAAC,IAAD,CAAM,IAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,oBAAC,MAAD;AAAQ,MAAA,IAAI,EAAC,SAAb;AAAuB,MAAA,QAAQ,EAAC,QAAhC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cADF,CATF,CADF;AAiBD;;AA1CuC;;AA6C1C,MAAMC,kBAAkB,GAAG7B,IAAI,CAAC8B,MAAL,CAAY;AAAEC,EAAAA,IAAI,EAAE;AAAR,CAAZ,EAA0C1B,WAA1C,CAA3B;;AAEA,MAAM2B,eAAe,GAAGC,KAAK,IAAI;AAC/B,SAAM;AACJhB,IAAAA,KAAK,EAAEgB,KAAK,CAAChB,KADT;AAEJI,IAAAA,QAAQ,EAAEY,KAAK,CAACZ;AAFZ,GAAN;AAID,CALD;;AAQA,eAAejB,OAAO,CAAC4B,eAAD,EAAkB,IAAlB,CAAP,CAA+BH,kBAA/B,CAAf","sourcesContent":["import React from 'react'\nimport { Form, Input, Button } from 'antd';\nimport axios from 'axios'\nimport { connect } from 'react-redux'\n\n\nclass NewPostForm extends React.Component {\n  componentDidMount() {\n    this.props.form.validateFields();\n  }\n  \n  handleSubmit = e => {\n    e.preventDefault();\n    this.props.form.validateFields((err, values) => {\n      let config = {\n        headers: {\n          'Authorization': `Token ${this.props.token}`\n        }\n      }\n      let data = {\n            content: values.content,\n            user: this.props.username\n      }\n      axios.post('https://thewall2019.herokuapp.com/posts/', data, config)\n    })\n    this.props.update()\n    this.props.form.resetFields()\n  };\n\n  render() {\n    const { getFieldDecorator } = this.props.form;\n    return (\n      <Form onSubmit={this.handleSubmit}>\n          <Form.Item>\n          {getFieldDecorator('content', {\n          })(\n            <Input size=\"large\" style={{ width: 500 }}\n              placeholder=\"Post something on the wall!\"\n            />,\n          )}\n        </Form.Item>\n        <Form.Item>\n          <Button type=\"primary\" htmlType=\"submit\">\n            Post\n          </Button>\n        </Form.Item>\n      </Form>\n    );\n  }\n}\n\nconst WrappedNewPostForm = Form.create({ name: 'horizontal_login' })(NewPostForm);\n\nconst mapStateToProps = state => {\n  return{\n    token: state.token,\n    username: state.username\n  }\n}\n\n\nexport default connect(mapStateToProps, null)(WrappedNewPostForm)"]},"metadata":{},"sourceType":"module"}